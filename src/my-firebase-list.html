<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-behaviors/paper-button-behavior.html">
<link rel="import" href="../bower_components/paper-material/paper-material.html">

<dom-module id="my-firebase-list">
    <template>
        <style is="custom-style">
            :host {
                display: block;
                position: relative;
                border-radius: 3px;
                background-color: #fff;
            }
            paper-material {
                border-radius: inherit;
                padding: 16px;
            }
        </style>

        <template
                is="dom-repeat"
                items="[[items]]">
            <paper-material class="content" elevation="1" animated>
                <template is="dom-repeat" items="_computeItemKeys(item)">

                </template>
            </paper-material>
        </template>
    </template>
    <script>
        Polymer({
            is: 'my-firebase-list',
            behaviors: [Polymer.PaperButtonBehavior],
            properties: {
                firebaseObj: {
                    type: Object,
                    reflectToAttribute: true
                },
                items: {
                    type: Array,
                    computed: '_computeItems(firebaseObj)'
                }
            },
            _computeItems: function(firebaseObj){
//                this._setFirebaseObjForDomRepeat(firebaseObj);
                return Object.keys(firebaseObj);
            },
//            ready: function(){
//                let templateRepeat = this.$$('template[is="dom-repeat"]');
//                templateRepeat.listen();
//            },
//            _setFirebaseObjForDomRepeat: function(firebaseObj){
//                this.$$('template[is="dom-repeat"]').firebaseObj = firebaseObj;
//            },
//            listeners: {
//                'dom-change': '_simpleRenderItem'
//            },
//            _simpleRenderItem: function(uuid, containerId){
//                let item = this.firebaseObj[uuid];
//                let keys = Object.keys(item);
//                console.log(this);
//                console.log(this.$.listItem);
//                let containerDiv = this.$.listItem.$['div_' + containerId];
//
//                keys.forEach(function(key){
//                    let node = document.createElement('p');
//                    if(key == 'name'){
//                        node = document.createElement('h1');
//                    }
//
//                    node.textContent = item[key];
//                    containerDiv.appendChild(node);
//                });
//            }
        });
    </script>
</dom-module>