<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/app-storage/app-network-status-behavior.html">
<link rel="import" href="../bower_components/app-layout/app-toolbar/app-toolbar.html">
<dom-module id="my-toolbar">
    <style>
        paper-icon-button[hidden] {
            display: none;
        }
    </style>
    <template>
        <app-toolbar>
            <paper-icon-button icon="menu" on-tap="_toggleDrawer"></paper-icon-button>
            <div main-title>Stores</div>
            <paper-icon-button
                    icon="cloud"
                    hidden$="[[!online]]">
            </paper-icon-button>
            <paper-icon-button
                    icon="cloud-off"
                    hidden$="[[online]]">
            </paper-icon-button>
            <paper-icon-button
                    icon="[[computeLockIcon(signedIn)]]"
                    disabled="[[!signedIn]]"
                    on-tap="lock">
            </paper-icon-button>
        </app-toolbar>
    </template>
    <script>
        Polymer({
            is: 'my-toolbar',
            behaviors: [
                Polymer.AppNetworkStatusBehavior
            ],
            properties: {
                signedIn: {
                    type: Boolean,
                    notify: true,
                    value: false
                },
                drawer: {
                    type: Object,
                    reflectToAttribute: true
                }
            },
            computeLockIcon: function(signedIn){
                return signedIn ? 'lock-open' : 'lock';
            },
            lock: function(){
                this.fire('sign-out');
            },
            ready: function(){

            },
            _toggleDrawer: function(){
                if(this.drawer){
                    this.drawer.toggle();
                }
            }
        });
    </script>
</dom-module>