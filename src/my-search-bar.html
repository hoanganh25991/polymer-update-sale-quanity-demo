<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">

<dom-module id="my-search-bar">
    <template>
        <style>
            :host {
                display: block;
                height: 100%;
            }

            .float-right-bottom {
                position: fixed;
                top: 90%;
                right: 20px;
            }

            #overlaySearch {
                width: 100%;
                height: 100%;
                display: block;
                background-color: #eee;
                position: absolute;
                overflow: hidden
            }

            #overlaySearch[hidden] {
                position: fixed;
                top: -9999px;
                left: -999px;
            }
        </style>
        <div id="overlaySearch" style="" hidden$="[[toggleOverlaySearch]]">
            <input type="text" id="searchTerm">
        </div>
        <div class="float-right-bottom">
            <paper-fab icon="search" title="heart" class="orange" on-tap="_toggle"></paper-fab>
        </div>
    </template>
    <script>
        Polymer({
            is: 'my-search-bar',
            properties: {
                toggleOverlaySearch: {
                    type: Boolean,
                    value: true
                },
                searchTerm: {
                    type: String,
                    notify: true,
                    reflectToAttribute: true
                }
            },
            _toggle: function(){
                console.log('toggle overlay search');
                if(this.toggleOverlaySearch == false){
                    this.searchTerm = this.$.searchTerm.value;
                }
                this.toggleOverlaySearch = !this.toggleOverlaySearch;
            }
        });
    </script>
</dom-module>
